GHX JSON GT Handleiding v4 — Aangepaste versie
Inleiding
Deze handleiding beschrijft de JSON-configuratie die wordt gebruikt binnen de GHX Template
Generator.
De configuratie bepaalt:
- welke velden zichtbaar zijn in de gebruikersinterface
- welke velden verplicht zijn
- welke aanvullende instructies gelden.
Belangrijk onderscheid: Template Generator JSON en Validatierapport JSON zijn twee aparte
configuraties met elk hun eigen doel.
Template Generator vs. Validatierapport JSON
- Template Generator JSON
Deze configuratie bepaalt de UI: welke velden zichtbaar zijn en of ze verplicht zijn, afhankelijk van
producttype of context.
- Validatierapport JSON
Deze configuratie bevat de inhoudelijke validaties en bedrijfsregels.
Nieuw hoofdstuk: Voorrangsregels
Bij het bepalen van zichtbaarheid en verplichtstelling gelden vaste prioriteiten:
Zichtbaarheid
De generator evalueert de zichtbaarheid in deze volgorde:
1. visible_only (hoogste prioriteit)
2. visible_except
3. visible (laagste prioriteit)
Verplichting
Dezelfde logica geldt voor verplichtstelling:
1. mandatory_only (hoogste prioriteit)
2. mandatory_except
3. mandatory (laagste prioriteit)
Best Practices
1. Vermijd tegenstrijdigheden
2. Hou Template Generator en Validatierapport gescheiden
3. Gebruik veldnamen, geen kolomletters, in cross-field regels
Voorbeelden (geactualiseerd)
Goed voorbeeld — Template Generator:
{
"col": "AK",
"visible_only": ["gs1"],
"depends_trigger_for": [{"field": "Functionele Naam Taal Code"}],
"notes": "Als ingevuld → Taalcode verplicht."
}
Goed voorbeeld — Validatierapport:
{
"field": "GMDN Code",
"type": "string",
"validation": { "regex": "^[0-9]{5}$" },
"flags": [{
"id": "GMDN_IMPLANT_CLASS_HIGH",
"severity": "error",
"when_all": [
{ "field": "GMDN Code", "empty": true },
{ "field": "Aanvullende Productclassificatiewaarde", "in": ["EU_CLASS_IIB","EU_CLASS_III"] }
],
"message": "U heeft EU_CLASS_IIB of EU_CLASS_III ingevuld. Voor deze producten is een
GMDN-code verplicht, maar die ontbreekt."
}
]
}